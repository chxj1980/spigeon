
#include <stdint.h>

// gcc version >= 4.1.2

int atomic_add(int *value, int incr) {
    __sync_add_and_fetch(value, incr);
}

uint32_t atomic_add(uint32_t *value, uint32_t incr) {
    __sync_add_and_fetch(value, incr);
}

int64_t atomic_add(int64_t *value, int64_t incr) {
    __sync_add_and_fetch(value, incr);
}

uint64_t atomic_add(uint64_t *value, uint64_t incr) {
    __sync_add_and_fetch(value, incr);
}

int atomic_sub(int *value, int incr) {
    __sync_sub_and_fetch(value, incr);
}

uint32_t atomic_sub(uint32_t *value, uint32_t incr) {
    __sync_sub_and_fetch(value, incr);
}

int64_t atomic_sub(int64_t *value, int64_t incr) {
    __sync_sub_and_fetch(value, incr);
}

uint64_t atomic_sub(uint64_t *value, uint64_t incr) {
    __sync_sub_and_fetch(value, incr);
}

